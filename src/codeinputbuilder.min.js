"use strict";if("undefined"==typeof jQuery)throw new Error("La bibliothèque jQuery est requise pour que CodeInputBuilder fonctionne. Veuillez inclure jQuery avant de charger cette bibliothèque.");!function(t){function e(t="fr"){const e=new Intl.DateTimeFormat(t,{month:"long"}),n=new Map;for(let t=0;t<12;t++){const i=new Date(2e3,t,1),o=e.format(i).toLowerCase(),r=String(t+1).padStart(2,"0");n.set(o,r)}return n}function n(n){const r=e(),a={type:"integer",numInputs:1,minValues:[],maxValues:[],values:[],formatTime:"HH:MM:SS.SSS",formatDate:"DD/MM/YYYY",hourCycle:"24h",defaultLanguage:"fr-FR",defaultValue:0,allowSign:!1,defaultSign:"+",decimalPosition:1,separator:".",totalMax:null,totalMin:null,onValueChange:null,allowScroll:!0,scrollSensitivity:50,requireKeyForScroll:null,autoFocusNextInput:!1,autoFocusNextInputDirection:null,gap:"10px",isDisabled:!1,allowArrowKeys:!1,maskInput:!1,months:Array.from(r.keys()),monthMap:r},u=t.extend({},a,n);function l(t,e){const n={time:/^(\d{2}):(\d{2}):(\d{2})(\.\d{1,3})?$/,date:/^(\d{2})\/(\d{2})\/(\d{4})$/},i={time:"Option 'defaultValue' : doit être un nombre (secondes), une chaîne formatée 'HH:MM:SS' ou un objet Date.",date:"Option 'defaultValue' : doit être un nombre (secondes), une chaîne formatée 'DD/MM/YYYY' ou un objet Date.",generic:"Option 'defaultValue' doit être un nombre ou une chaîne."};if(["time","date"].includes(t)){if("number"==typeof(o=e)&&!isNaN(o)&&o>=0)return;if("string"==typeof e&&n[t].test(e))return;if((t=>t instanceof Date&&!isNaN(t.getTime()))(e))return;throw new Error(i[t])}var o;if("number"!=typeof e&&"string"!=typeof e)throw new Error(i.generic)}return function(t){if(!["integer","float","text","binary","hexadecimal","letter","time","date"].includes(t))throw new Error("Option 'type' invalide. Valeurs autorisées : 'integer', 'float', 'text','binary', 'hexadecimal', 'letter', time, date.")}(u.type),function(t){if("number"!=typeof t||t<1)throw new Error("Option 'numInputs' doit être un entier positif.")}(u.numInputs),function(t,e,n){if("text"!==t&&Array.isArray(e)&&e.length>0&&e.length!==n)throw new Error("'minValues' doit contenir autant d'éléments que 'numInputs'.")}(u.type,u.minValues,u.numInputs),function(t,e,n){if("text"!==t&&Array.isArray(e)&&e.length>0&&e.length!==n)throw new Error("'maxValues' doit contenir autant d'éléments que 'numInputs'.")}(u.type,u.maxValues,u.numInputs),function(t,e,n){if("text"!==t&&Array.isArray(e)&&e.length>0&&e.length!==n)throw new Error("'values' doit contenir autant d'éléments que 'numInputs'.")}(u.type,u.values,u.numInputs),function(t,e){if("float"===t&&("number"!=typeof e||e<1))throw new Error("Option 'decimalPosition' doit être un entier positif pour les types flottants.")}(u.type,u.decimalPosition),l(u.type,u.defaultValue),function(t){if(null!==t&&"number"!=typeof t)throw new Error("Option 'totalMin' doit être un nombre ou null.")}(u.totalMin),function(t){if(null!==t&&"number"!=typeof t)throw new Error("Option 'totalMax' doit être un nombre ou null.")}(u.totalMax),function(t){if(null!==t&&"function"!=typeof t)throw new Error("Option 'onValueChange' doit être une fonction ou null.")}(u.onValueChange),function(t){if("boolean"!=typeof t)throw new Error("Option 'allowScroll' doit être un booléen.")}(u.allowScroll),function(t){if("boolean"!=typeof t)throw new Error("Option 'allowSign' doit être un booléen.")}(u.allowSign),function(t){if("boolean"!=typeof t)throw new Error("Option 'allowArrowKeys' doit être un booléen.")}(u.allowArrowKeys),function(t){if("boolean"!=typeof t)throw new Error("Option 'isDisabled' doit être un booléen.")}(u.isDisabled),function(t){if("boolean"!=typeof t)throw new Error("Option 'autoFocusNextInput' doit être un booléen.")}(u.autoFocusNextInput),function(t){if(t&&!["Forward","Backward","Right","Left"].includes(t))throw new Error("Option 'autoFocusNextInputDirection' doit être 'Forward', 'Backward', 'Right', 'Left' ou null.")}(u.autoFocusNextInputDirection),function(t){if("number"!=typeof t||t<=0)throw new Error("Option 'scrollSensitivity' doit être un entier positif.")}(u.scrollSensitivity),function(t){if(t&&!["Control","Shift","Alt","Meta"].includes(t))throw new Error("Option 'requireKeyForScroll' doit être 'Control', 'Shift', 'Alt', 'Meta' ou null.")}(u.requireKeyForScroll),function(t){if(t&&!["+","-"].includes(t))throw new Error("Option 'defaultSign' doit être '+', '-'.")}(u.defaultSign),function(t){if("boolean"!=typeof t)throw new Error("Option 'maskInput' doit être un booléen.")}(u.maskInput),function(t){const e={date:{format:u.formatDate,isValid:i,errorMessage:`Le format '${u.formatDate}' est invalide. Utilisez un format valide comme 'DD/MM/YYYY' ou 'DD|MM|YYYY' ou 'DD|MH|YYYY' ou 'DD/MH.`},time:{format:u.formatTime,isValid:o,errorMessage:`Le format '${u.formatTime}' est invalide. Utilisez un format valide comme 'HH:MM:SS.SSS' ou 'HH|MM|SS'.`}}[t];if(e&&!e.isValid(e.format))throw new Error(e.errorMessage)}(u.type),function(t){if("string"!=typeof t)throw new Error("L'option 'defaultLanguage' doit être une chaîne de caractères.");Intl.DateTimeFormat.supportedLocalesOf([t])}(u.defaultLanguage),function(t,e){const n=["24h","12h"];if("time"===t){if(!e)throw new Error("L'option 'hourCycle' n'est pas définie. Valeur par défaut utilisée : '24h'.");if("string"!=typeof e)throw new Error("L'option 'hourCycle' doit être une chaîne de caractères ('24h' ou '12h').");if(!n.includes(e))throw new Error(`L'option 'hourCycle' doit être une des valeurs suivantes : ${n.join(", ")}.`)}}(u.type,u.hourCycle),u}function i(t){return/^(DD|MM|MH|YYYY)([^a-zA-Z0-9](DD|MM|MH|YYYY)){0,2}$/.test(t)}function o(t){return/^HH[^a-zA-Z0-9]MM([^a-zA-Z0-9]SS)?([^a-zA-Z0-9]SSS)?(\s?A)?$/.test(t)}function r(t,e){return t.length>e?t.slice(-e):t}function a(t,e){return t.indexOf(e)}function u(e,n,i){let o=0,r=0;return _(i)?r=f(e<0?t(n).attr("data-min"):t(n).attr("data-max")):(o=f(t(n).attr("data-min")),r=f(t(n).attr("data-max"))),{valueMin:o,valueMax:r}}const l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"," ":"Espace","©":"&copy;","®":"&reg;","™":"&trade;","€":"&euro;","¢":"&cent;","£":"&pound;","¥":"&yen;"},s=Object.fromEntries(Object.entries(l).map((([t,e])=>[e,t])));function c(t){return t.replace(/[&<>"' ©®™€¢£¥]/g,(t=>l[t]))}function p(t){switch(t){case"\\0x00":return h(0);case"\\0x0b":return h(11);case"\\t":return"\t";case"\\n":return"\n";case"\\r":return"\r";case"\\b":return"\b";case"\\f":return"\f";default:return s[e=t]||e}var e}function d(t){return parseFloat(t)}function f(t){return parseInt(t,10)}function m(t){return t.charCodeAt(0)}function h(t){return String.fromCharCode(t)}function y(t){return t>="0"&&t<="9"?m(t)-48:t>="a"&&t<="f"?m(t)-97+10:null}function g(t){return Number(t)===t&&Number.isInteger(t)}const M=t=>/^[-+]?\d+(\.\d+)?$/.test(t),v=t=>/^0x[0-9a-fA-F]+$/.test(t)||/^[0-9a-fA-F]+$/.test(t),w={convert:t=>f(t),validate:t=>"number"==typeof t&&!isNaN(t)&&g(t),display:t=>t,isForcedAllowSign:!1,isForcedAllowArrowKeys:!1,isAdjustToBounds:!1,isGetDigit:!0,isSetDigit:!0,min:0,max:9,isForcedDisabled:!1,isValidKey:(t,e)=>t>=48&&t<=48+e||t>=96&&t<=96+e},x={integer:{convert:t=>f(t),validate:t=>"number"==typeof t&&!isNaN(t)&&g(t),display:t=>t,isForcedAllowSign:!1,isForcedAllowArrowKeys:!1,isAdjustToBounds:!0,isGetDigit:!0,isSetDigit:!0,min:0,max:9,isForcedDisabled:!1,isValidKey:(t,e)=>t>=48&&t<=48+e||t>=96&&t<=96+e},float:{convert:t=>d(t),validate:null,display:t=>t,isForcedAllowSign:!1,isForcedAllowArrowKeys:!1,isAdjustToBounds:!0,isGetDigit:!0,isSetDigit:!0,min:0,max:9,isForcedDisabled:!1,isValidKey:(t,e)=>t>=48&&t<=48+e||t>=96&&t<=96+e},binary:{convert:t=>function(t){return parseInt(t,2)}(t),validate:null,display:t=>t,isForcedAllowSign:!1,isForcedAllowArrowKeys:!1,isAdjustToBounds:!1,isGetDigit:!0,isSetDigit:!0,min:0,max:1,isForcedDisabled:!1,isValidKey:t=>48===t||49===t||96===t||97===t},hexadecimal:{convert:t=>function(t){return parseInt(t,16)}(t),validate:(t,e)=>"letter"!==e.type&&"string"==typeof t&&v(t),display:t=>function(t){return t>=0&&t<=9?h(48+t):t>=10&&t<=15?h(t-10+97):null}(t),isForcedAllowSign:!1,isForcedAllowArrowKeys:!1,isAdjustToBounds:!1,isGetDigit:!0,isSetDigit:!0,min:0,max:15,isForcedDisabled:!1,isValidKey:t=>t>=48&&t<=57||t>=65&&t<=70||t>=96&&t<=105},letter:{convert:t=>m(t),validate:()=>!1,display:t=>h(t),isForcedAllowSign:!1,isForcedAllowArrowKeys:!1,isAdjustToBounds:!1,isGetDigit:!0,isSetDigit:!0,min:0,max:255,isForcedDisabled:!1,isValidKey:(t,e,n,i)=>{const o=[16,17,18,91,93];if(o.includes(t))return!1;return!(o.includes(t)||i&&["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(n))}},text:{convert:null,validate:()=>!1,display:null,isForcedAllowSign:!1,isForcedAllowArrowKeys:!1,isAdjustToBounds:!1,isGetDigit:!1,isSetDigit:!1,min:null,max:null,isForcedDisabled:!0,isValidKey:null},time:w,date:w};function b(t,e){return x[e]?.convert?.(t)??null}function D(t){return x[t.type]?.min??null}function S(t){return x[t.type]?.max??null}function $(t,e){return x[e.type]?.display?.(t)??null}function _(t){return(x[t.type]?.isForcedAllowSign??!1)||t.allowSign}function T(t){return(x[t.type]?.isForcedAllowArrowKeys??!1)||t.allowArrowKeys}function A(t){return(x[t.type]?.isForcedDisabled??!1)||t.isDisabled}function V(t){return _(t)?t.defaultSign:null}function I(t,e,n){const i=e[t];if(void 0===i)return null;const o=function(t,e){for(const[n,i]of Object.entries(x))if(i?.validate?.(t,e))return n;return"letter"}(i,n);return b(i,o)}function Y(t,e){return I(t,e.maxValues,e)}function E(t,e){return I(t,e.minValues,e)}function C(e,n,i,o){let r=$(i,o);if("letter"==o.type&&(r=function(t){switch(m(t)){case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 8:return"\\b";case 12:return"\\f";default:return t}}(r)),"input"===e)!function(e,n){t(e).val(n)}(n,r);else{if("div"!==e)throw new Error("Type invalide :",e);!function(e,n,i){"letter"===i.type?(n=function(t){if(0===m(t))return"\\0x00";return 11===m(t)?"\\0x0b":t}(n),t(e).html(c(n))):t(e).html(n)}(n,r,o)}}function j(e,n,i){let o="input"===e?t(n).val():t(n).html();return"letter"===i.type&&(o=p(o)),"date"===i.type&&t(n).attr("id").includes("month")&&(o=i.monthMap.get(o)),b(o,i.type)}function B(t){const e=f(t);return{valueTop:e-1,valueBottom:e+1}}function H(t,e){return Array.isArray(t)&&void 0!==t[e-1]&&"number"==typeof t[e-1]?f(t[e-1]):0}function k(t,e,n,i=null,o=null,r=null){return null!=e&&"number"==typeof e&&t<=e?null!=o?o:e:null!=n&&"number"==typeof n&&t>=n?null!=r?r:n:null!=i?i:t}t.fn.codeInputBuilder=function(i){const o=n(i);o.monthMap=e(o.defaultLanguage),o.months=Array.from(o.monthMap.keys());let l=null,s={value:"",digits:new Array(o.numInputs).fill(0),sign:V(o),systime:"AM",list:"",limitDigitMin:null,limitDigitMax:null,limitMin:null,limitMax:null,totalMin:null,totalMax:null};!function(t,e){if("float"===e.type||"integer"===e.type){let n=new Array,i=new Array;for(let t=0;t<e.numInputs;t++){const o=void 0!==e.minValues[t]?Math.max(D(e),Math.min(E(t,e),S(e))):D(e);n.push(o);const r=void 0!==e.maxValues[t]?Math.max(D(e),Math.min(Y(t,e),S(e))):S(e);i.push(r)}let o=ct(i,"float"===e.type,e.decimalPosition),r=ct(n,"float"===e.type,e.decimalPosition);_(e)&&(r*=-1),t.limitMax=o,t.limitMin=r}}(s,o),function(t,e){const n=_(e)?-1:1;let i=void 0!==e.totalMin&&null!=e.totalMin?e.totalMin:ct(e.minValues,"float"===e.type,e.decimalPosition)*n,o=void 0!==e.totalMax&&null!=e.totalMax?e.totalMax:ct(e.maxValues,"float"===e.type,e.decimalPosition);t.totalMin=i,t.totalMax=o,t.limitDigitMin=st(i),t.limitDigitMax=st(o)}(s,o);let c=o.type+"_"+"xxxxxxxx".replace(/x/g,(function(){return(16*Math.random()|0).toString(16)}));function h(e,n,i){if(i&&"function"==typeof n.onValueChange){const i=w("current");null!=e?t("#live-update").text(`Input ${e.attr("id")} a changé de valeur ${i}`):t("#live-update").text(`Le CodeInput a changé de valeur ${i}`),n.onValueChange(e,i)}}function g(t,e){if("systime"===t)s.systime=e;else if("sign"===t)s.sign=e;else if("list"===t)s.list=e;else if("current"===t)s.value=e;else if("fillDigits"===t)s.digits.fill(e);else{if(isNaN(t))throw new Error("Index invalide :",t);s.digits[t]=e}}function w(t){let e=null;if("systime"===t)e=s.systime;else if("sign"===t)e=s.sign;else if("current"===t)e=s.value;else if("digits"===t)e=s.digits;else{if(isNaN(t))throw new Error("Index invalide :",t);e=s.digits[t]}return e}function F(t,e){const n=e.numInputs-e.decimalPosition;let[i,o=""]=t.split(".");return i=i.padStart(e.decimalPosition,"0"),o=(o||"").slice(0,n).padEnd(n,"0"),[i,o]}function P(t,e,n,i){const o=t>0?"+":"-",r=st(t>0?n:e),a="float"===i.type&&i.decimalPosition?i.decimalPosition:0;let[u,l]="float"===i.type?F(Math.abs(t).toString(),i):[Math.abs(t).toString(),""];const s=L(u,r,r.length-a-1),c=L(l,r,a);let p=ct(s.concat(c),"float"===i.type,i.decimalPosition);return"-"===o&&(p*=-1),p}function L(t,e,n){const i=[];return t.split("").reverse().forEach(((t,o)=>{const r=n-o;i.unshift(t>e[r]?e[r].toString():t)})),i}function K(e,n){if("time"===n&&"12h"===o.hourCycle){const n=function(t){if(t instanceof Date)return t.getUTCHours()>=12?"PM":"AM";if("string"==typeof t)return function(t){const e=t.toUpperCase();if(e.includes("AM"))return"AM";if(e.includes("PM"))return"PM";const n=Q(t,o.formatTime,"24h");return Math.floor(n/3600)>=12?"PM":"AM"}(t);if("number"==typeof t)return e=t,Math.floor(e/3600)>=12?"PM":"AM";var e;return""}(e);n&&function(e){t("input[id^=systime_"+c+"_input]").val(e)}(n)}}function N(e,n){if(["float","integer"].includes(o.type)&&isNaN(e))return;let i,r,a=e,u=e;switch(function(t){return x[t.type]?.isAdjustToBounds??!1}(o)&&(a=k(e,s.totalMin,s.totalMax),a=P(a,s.limitMin,s.limitMax,o),u=Math.abs(a).toString()),_(o)&&t(`[id^="sign_${n}_input"]`).val(a<0?"-":"+"),o.type){case"float":[i,r]=F(u,o);break;case"integer":case"binary":case"hexadecimal":case"letter":case"time":case"date":i=u,r="";break;default:throw new Error("Type non supporté dans la fonction fillDigits.")}!function(e,n,i){const o=t(`input[id^=digits_${n}_input], input[id^=month_${n}_input]`).toArray().sort(((e,n)=>parseInt(t(e).attr("id").match(/_(\d+)$/)[1],10)-parseInt(t(n).attr("id").match(/_(\d+)$/)[1],10)));let r=o.length-1;o.forEach((e=>{t(e).attr("id").includes("month")||C("input",e,0,i)}));let a=e.length-1;for(;a>=0;){if(t(o[r]).attr("id").includes("month")){const t=parseInt(e[a-1]+e[a],10);C("input",o[r],i.months[t-1],i),g(r,i.months[t-1]),a--}else{const{value:t}=$t(r,i,b(e[a],i.type));C("input",o[r],t,i),g(r,t)}if(a--,r--,r<0)break}}(i+r,n,o)}function U(e){let n=function(e){let n="";return t(`input[id^=digits_${e}_input], input[id^=month_${e}_input]`).toArray().sort(((e,n)=>parseInt(t(e).attr("id").match(/_(\d+)$/)[1],10)-parseInt(t(n).attr("id").match(/_(\d+)$/)[1],10))).forEach(((e,i)=>{const r=t(e);if("float"===o.type||"integer"===o.type||"binary"===o.type)"float"===o.type&&i===o.decimalPosition&&(n+="."),n+=j("input",r,o);else{let t=0;t=r.attr("id").includes("month")?o.monthMap.get(r.val()):r.val(),"letter"===o.type&&(t=p(t)),n+=t}})),n}(e);return"float"===o.type||"integer"===o.type?(n=O(n,e),b(n,o.type)):n}function O(e,n){if(!_(o))return e;const i=t("input[id^=sign_"+n+"_input]");let r=null;return r="string"==typeof e?"-"===i.val()?"-"+e:e:"-"===i.val()?-e:e,r}function q(t,e,n,i,o){let r;const a=[],u=[];for(;null!==(r=e.exec(t));)n.includes(r[0])?a.push({part:r[0],maxlimit:i[r[0]]||[],minlimit:o[r[0]]||[],length:r[0].length}):r[1]&&u.push(r[1]);const l=a.map((t=>`${"MH"!=t.part?t.length:1}`));return{sizes:l,parts:a.map((t=>`${t.part}`)),maxlimits:a.map((t=>`${t.maxlimit}`)),minlimits:a.map((t=>`${t.minlimit}`)),numinputs:l.reduce(((t,e)=>t+parseInt(e,10)),0),separators:u}}function z(t){return q(t,/(?:DD|MM|MH|YYYY)|([^a-zA-Z0-9])/g,["DD","MM","MH","YYYY"],{DD:[3,9],MM:[1,9],MH:[12],YYYY:Array(4).fill(9)},{DD:[0,0],MM:[0,0],MH:[1],YYYY:[1,0,0,0]})}function G(t){return q(t,/(?:SSS|HH|MM|SS)|([^a-zA-Z0-9])/g,["SSS","HH","MM","SS"],{HH:"24h"===o.hourCycle?[2,9]:[1,9],MM:[5,9],SS:[5,9],SSS:Array(3).fill(9)},{HH:[0,0],MM:[0,0],SS:[0,0],SSS:Array(3).fill(0)})}function R(t,e){let n;if(t instanceof Date)n=Q(it(t,e,o.hourCycle),e);else if("number"==typeof t)n=t;else{if("string"!=typeof t)return 0;n=Q(t,e,o.hourCycle)}return Math.min(Math.max(n,0),86399.999)}function Z(t,e){let n=0;if(t instanceof Date){n=J(ot(t,e),e)}else if("number"==typeof t)n=t;else{if("string"!=typeof t)return 0;n=J(t,e)}return Math.min(Math.max(n,0),253402214400)}function Q(t,e,n){const{parts:i,separators:o}=G(e),r=new RegExp(o.map((t=>`\\${t}`)).join("|")),a=t.split(r).map((t=>parseInt(t||"0",10)));let[u,l,s,c]=[0,0,0,0];return i.forEach(((e,i)=>{const o=a[i]||0;switch(e){case"HH":u=function(t,e,n){const i=e.toUpperCase();return i.includes("AM")?"24h"===n&&12===t&&(t=0):i.includes("PM")?"24h"===n&&t<12&&(t+=12):"12h"===n&&(t=t%12||12),"24h"===n?Math.max(0,Math.min(t,23)):Math.max(0,Math.min(t,12))}(o,t,n);break;case"MM":l=Math.max(0,Math.min(o,59));break;case"SS":s=Math.max(0,Math.min(o,59));break;case"SSS":c=Math.max(0,Math.min(o,999))}})),3600*u+60*l+s+c/1e3}function J(t,e){const{parts:n,separators:i}=z(e),o=new RegExp(i.map((t=>`\\${t}`)).join("|")),r=t.split(o).map((t=>parseInt(t||"0",10)));let[a,u,l]=[1,1,1970];n.forEach(((t,e)=>{const n=r[e]||0;switch(t){case"DD":a=Math.max(1,Math.min(n,31));break;case"MM":case"MH":u=Math.max(1,Math.min(n,12));break;case"YYYY":l=n}}));return new Date(Date.UTC(l,u-1,a)).getTime()/1e3}function W(t,e,n){const i=e.match(n),o={};let r=0;for(const e of i){const n=e.length,i=parseInt(t.substr(r,n),10)||0;r+=n,o[e]=i}return o}function X(t,e){const n=function(t,e){const n=W(t,e,/(SSS|HH|MM|SS)/g),i="24h"==o.hourCycle?23:12;return{isValid:n.HH>=0&&n.HH<=i&&n.MM>=0&&n.MM<=59&&n.SS>=0&&n.SS<=59&&n.SSS>=0&&n.SSS<=999,values:n}}(t,e);return function(t){const e="24h"==o.hourCycle?23:12;let n=Math.min(t.HH||0,e);const i=Math.min(t.MM||0,59),r=Math.min(t.SS||0,59),a=Math.min(t.SSS||0,999),u=new Date(0);return u.setUTCHours(n,i,r,a),u}(n.values)}function tt(t,e){const n=function(t,e){const n=W(t,e,/(DD|MM|MH|YYYY)/g);let i=!1;return null!=n.MM?i=n.DD>=1&&n.DD<=31&&n.MM>=1&&n.MM<=12&&n.YYYY>=1970&&n.YYYY<=9999:null!=n.MH&&(i=n.DD>=1&&n.DD<=31&&n.MH>=1&&n.MH<=12&&n.YYYY>=1970&&n.YYYY<=9999),{isValid:i,values:n}}(t,e);return function(t){const e=Math.min(Math.max(t.YYYY||1970,1970),9999);let n=1;null!=t.MM?n=Math.min(Math.max(t.MM||1,1),12)-1:null!=t.MH&&(n=Math.min(Math.max(t.MH||1,1),12)-1);const i=new Date(Date.UTC(e,n+1,0)).getUTCDate(),o=Math.min(Math.max(t.DD||1,1),i);return new Date(Date.UTC(e,n,o))}(n.values)}function et(e){let n=e.getUTCHours();const i=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();if("12h"===o.hourCycle){const e="PM"===t("input[id^=systime_"+c+"_input]").val().toUpperCase();e&&n<12?n+=12:e||12!==n||(n=0)}return 3600*n+60*i+r+a/1e3}function nt(t){return t.getTime()/1e3}function it(t,e,n){let i;i="12h"===n?function(t){return{hours12:t%12||12,amOrPm:t>=12?"PM":"AM"}}(t.getUTCHours()).hours12.toString().padStart(2,"0"):String(t.getUTCHours()).padStart(2,"0");const o=String(t.getUTCMinutes()).padStart(2,"0"),r=String(t.getUTCSeconds()).padStart(2,"0"),a=String(t.getUTCMilliseconds()).padStart(3,"0");return e.replace("HH",i).replace("MM",o).replace("SS",r).replace("SSS",a)}function ot(t,e){const n=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getFullYear());return e.replace("DD",n).replace("MM",i).replace("MH",i).replace("YYYY",o)}function rt(t,e){return it(t,e,o.hourCycle).replace(/[^a-zA-Z0-9]/g,"")}function at(t,e){return ot(t,e).replace(/[^a-zA-Z0-9]/g,"")}function ut(t,e,n,i=!0){switch(o.type){case"integer":case"float":!function(){let t=U(n),e=t;t=k(t,s.totalMin,s.totalMax,t),t=P(t,s.limitMin,s.limitMax,o),g("current",t),e!==w("current")&&N(w("current"),n)}();break;case"hexadecimal":case"letter":case"binary":g("current",U(n));break;case"text":g("current",e);break;case"time":!function(t,e){let n=U(t),i=n;const o=X(n,e);n=rt(o,e),i!=n&&N(n,t),g("current",et(o))}(n,o.formatTime);break;case"date":!function(t,e){let n=U(t),i=n;const o=tt(n,e);n=at(o,e),i!=n&&N(n,t),g("current",nt(o))}(n,o.formatDate);break;default:throw new Error("Type de données non supporté.")}h(t,o,i)}function lt(e,n,i,r,a,u){t(".cla-input-wrapper .top-text-"+e+"-"+n).css("visibility","hidden"),t(".cla-input-wrapper .bottom-text-"+e+"-"+n).css("visibility","hidden"),t(".cla-input-wrapper .top-text-"+e+"-"+n).css("opacity","0"),t(".cla-input-wrapper .bottom-text-"+e+"-"+n).css("opacity","0"),i&&(t(".cla-input-wrapper .top-text-"+e+"-"+n).css("visibility","visible"),"text"===o.type?t(".cla-input-wrapper .top-text-"+e+"-"+n).html(a):C("div",t(".cla-input-wrapper .top-text-"+e+"-"+n),a,o),t(".cla-input-wrapper .top-text-"+e+"-"+n).css("opacity","1")),r&&(t(".cla-input-wrapper .bottom-text-"+e+"-"+n).css("visibility","visible"),"text"===o.type?t(".cla-input-wrapper .bottom-text-"+e+"-"+n).html(u):C("div",t(".cla-input-wrapper .bottom-text-"+e+"-"+n),u,o),t(".cla-input-wrapper .bottom-text-"+e+"-"+n).css("opacity","1"))}function st(t){const e=Math.abs(t).toString().replace(".","");return Array.from(e,(t=>f(t))).slice(0,o.numInputs)}function ct(t,e,n){let i=t.map((t=>t.toString())).join("");return e&&n<t.length&&(i=i.slice(0,n)+"."+i.slice(n)),d(i)}function pt(t,e,n,i,r){if(r!==l)return{index:-1,showTop:!1,showBottom:!1,adjustedValueTop:0,adjustedValueBottom:0};const a={digits:()=>{const t=vt(i,e,w("current"),s.limitDigitMin,s.limitDigitMax);return{index:e,showTop:t.showTop,showBottom:t.showBottom,adjustedValueTop:t.valueTop,adjustedValueBottom:t.valueBottom}},month:()=>{const t=vt(i,e,w("current"),s.limitDigitMin,s.limitDigitMax);return{index:e,showTop:t.showTop,showBottom:t.showBottom,adjustedValueTop:t.valueTop,adjustedValueBottom:t.valueBottom}},sign:()=>({index:t,showTop:"-"===n,showBottom:"+"===n,adjustedValueTop:"+",adjustedValueBottom:"-"}),systime:()=>({index:t,showTop:"PM"===n,showBottom:"AM"===n,adjustedValueTop:"AM",adjustedValueBottom:"PM"}),list:()=>{const{valueTop:e,valueBottom:i}=B(n),r=xt(e,i,0,o.values.length-1);return{index:t,showTop:r.showTop,showBottom:r.showBottom,adjustedValueTop:o.values[r.adjustedValueTop],adjustedValueBottom:o.values[r.adjustedValueBottom]}}};return a[t]?a[t]():{index:-1,showTop:!1,showBottom:!1,adjustedValueTop:0,adjustedValueBottom:0}}function dt(e,n,i,r){const a="digits"===i||"month"===i?t(e).attr("id").replace(`${i}_${r}_input_`,""):i,u=r+("digits"===i||"month"===i?a:i),l={month:()=>(g(a-1,o.months[n-1]),C("input",t(e),o.months[n-1],o),o.months[n-1]),digits:()=>(g(a-1,n),C("input",t(e),n,o),n),sign:()=>(g("sign",n),C("input",t(e),n,o),n),systime:()=>(g("systime",n),C("input",t(e),n,o),n),list:()=>{const t=o.values[n];return g("list",t),e.val(t),t}};ut(t(e),l[i](),r);const s=pt(i,a,n,e,u);lt(r,s.index,s.showTop,s.showBottom,"month"==i?o.months[parseInt(s.adjustedValueTop)-1]:s.adjustedValueTop,"month"==i?o.months[parseInt(s.adjustedValueBottom)-1]:s.adjustedValueBottom)}function ft(e,n,i,o,r){"previous"===o?i=i-1==0?r.numInputs:i-1:"next"===o&&(i=i+1===r.numInputs+1?1:i+1),t(`#${e}_${n}_input_${i}`).focus()}function mt(t,e,n,i,o,r){let a=e.key;"hexadecimal"==r.type&&(a=y(e.key)),"letter"==r.type&&(a=m(e.key)),dt(t,a,o,n),ft(o,n,function(t,e){let n=t;if(e.autoFocusNextInput&&null!==e.autoFocusNextInputDirection)switch(e.autoFocusNextInputDirection){case"Forward":case"Right":n+=1;break;case"Backward":case"Left":n-=1;break;default:console.warn(`Direction "${e.autoFocusNextInputDirection}" non reconnue. L'index reste inchangé.`)}return n}(i,r),null,r)}function ht({inputElement:e,codeTouche:n,event:i,type:o,id:r,prefix:a,valueMin:l,settings:s}){8===n?function(t,e,n,i,o,r){dt(t,o,i,e),ft(i,e,n,"previous",r)}(e,o,r,a,l,s):46===n?function(t,e,n,i,o,r){dt(t,o,i,e),ft(i,e,n,"next",r)}(e,o,r,a,l,s):9===n||(37===n?ft(a,o,r,"previous",s):38===n?function(e,n,i,o,r){let a=-1;a="hexadecimal"==r.type?y(t(e).val()):"letter"==r.type?m(t(e).val()):f(t(e).val()),a-=1;const{valueMin:l,valueMax:s}=u(w("current"),e,r);a=wt(a,l,s).adjustedValue,dt(e,a,o,n),ft(o,n,i,null,r)}(e,o,r,a,s):39===n?ft(a,o,r,"next",s):40===n?function(e,n,i,o,r){let a=-1;a="hexadecimal"==r.type?y(t(e).val()):"letter"==r.type?m(t(e).val()):f(t(e).val()),a+=1;const{valueMin:l,valueMax:s}=u(w("current"),e,r);a=wt(a,l,s).adjustedValue,dt(e,a,o,n),ft(o,n,i,null,r)}(e,o,r,a,s):mt(e,i,o,r,a,s))}function yt(t,e,n,i,o,r,a){const{valueMin:u,valueMax:l}=function(t){return{valueMin:D(t),valueMax:S(t)}}(a);(function(t,e,n,i,o){return x[i]?.isValidKey?.(t,n,e,o)||!1})(e,n.key,l,a.type,T(a))||function(t,e){return[8,9,46].includes(t)||T(e)&&[37,38,39,40].includes(t)}(e,a)?ht({inputElement:t,codeTouche:e,event:n,type:i,id:r,prefix:o,valueMin:u,settings:a}):(dt(t,u,o,i),n.preventDefault())}function gt(t,e,n,i,o,r,a){if(function(t,e){return t.ctrlKey&&("c"===t.key||67===e)||t.ctrlKey&&("v"===t.key||86===e)||!t.ctrlKey&&17===e}(n,e))n.preventDefault();else switch(i){case"digits":yt(t,e,n,o,i,r,a);break;case"sign":!function(t,e,n,i,o){"+"===n.key||"-"===n.key?dt(t,n.key,o,i):9!==e&&(dt(t,"+",o,i),n.preventDefault())}(t,e,n,o,i)}}function Mt(e,n,i,r){if(!0===o.maskInput)return;if(!o.allowScroll)return;const l=n.originalEvent||n;if(l.preventDefault(),!function(t){if(!o.requireKeyForScroll)return!0;const e=o.requireKeyForScroll.toLowerCase();return"control"===e&&t.ctrlKey||"shift"===e&&t.shiftKey||"alt"===e&&t.altKey||"meta"===e&&t.metaKey}(n))return;const s=function(t){return void 0!==t.deltaY?t.deltaY:void 0!==t.wheelDelta?t.wheelDelta:0}(l);Math.abs(s)<o.scrollSensitivity||function(e,n,i,r){switch(e){case"month":!function(e,n,i){let r=parseInt(o.monthMap.get(t(e).val()),10);if(-1!=r){r+=n<0?-1:1;const{valueMin:t,valueMax:i}=u(w("current"),e,o);r=wt(r,t,i).adjustedValue}dt(e,r,"month",i)}(n,i,r);break;case"digits":!function(e,n,i){let r=j("input",t(e),o);if(-1!=r){r+=n<0?-1:1;const{valueMin:t,valueMax:a}=u(w("current"),e,o);r=wt(r,t,a).adjustedValue,dt(e,r,"digits",i)}}(n,i,r);break;case"sign":!function(t,e,n){let i=-1;"-"==t.val()&&(i=0);"+"==t.val()&&(i=1);-1!=i&&(i+=e<0?-1:1,i<0&&dt(t,"+","sign",n),i>1&&dt(t,"-","sign",n))}(n,i,r);break;case"systime":!function(t,e,n){let i=-1;"PM"==t.val()&&(i=0);"AM"==t.val()&&(i=1);-1!=i&&(i+=e<0?-1:1,i<0&&dt(t,"AM","systime",n),i>1&&dt(t,"PM","systime",n))}(n,i,r);break;case"list":!function(t,e,n){let i=a(o.values,t.val());-1!=i&&(i+=e<0?-1:1,i=wt(i,0,o.values.length-1).adjustedValue,dt(t,i,"list",n))}(n,i,r)}}(i,e,s,r)}function vt(e,n,i,r,a){let{valueTop:l,valueBottom:c}=B(j("input",t(e),o));l=k(i,-1/0,s.limitMax,l,null,H(a,n)-1),c=k(i,s.limitMin,1/0,c,H(r,n)+1,null);let{valueMin:p,valueMax:d}=u(i,e,o);return{valueTop:l,valueBottom:c,valueMin:p,valueMax:d,showTop:l>=p,showBottom:c<=d}}function wt(t,e,n,i=null,o=null){if(null===i&&null===o){return{adjustedValue:Math.max(e,Math.min(t,n))}}return{adjustedValueTop:Math.max(i,e),adjustedValueBottom:Math.min(o,n)}}function xt(t,e,n,i){const o=t>=n,r=e<=i,{adjustedValueTop:a,adjustedValueBottom:u}=wt(null,n,i,t,e);return{showTop:o,showBottom:r,adjustedValueTop:a,adjustedValueBottom:u}}function bt(e,n,i,o){const r=t(e).attr("id").replace(`${n}_${i}_div_`,""),a=r.includes("top")?"top":"bottom",u=r.replace(`${a}_`,"");t(`.cla-input-wrapper .${a}-text-${i}-${u}`).css({visibility:o?"visible":"hidden",opacity:o?"1":"0"})}function Dt(e,n,i){const r=t(e).attr("id").replace(`${n}_${i}_div_`,"");"digits"===n?function(e,n,i,r){const a=n.replace(/(top_|bottom_)/,""),u=j("div",t(e),o);if(!St(u)||isNaN(u))return;C("input",t(`#${i}_${r}_input_${a}`),u,o),ut(t(`#${i}_${r}_input_${a}`),u,r),l=`${r}${a}`;const c=n.includes("top"),p=vt(t(`#${i}_${r}_input_${a}`),a,w("current"),s.limitDigitMin,s.limitDigitMax);lt(r,a,!!c&&p.showTop,!c&&p.showBottom,c?p.valueTop:0,c?0:p.valueBottom),l=null}(e,r,n,i):"month"===n?function(e,n,i,r){const a=n.replace(/(top_|bottom_)/,""),u=j("div",t(e),o);if(!St(u)||isNaN(u))return;C("input",t(`#${i}_${r}_input_${a}`),o.months[u-1],o),ut(t(`#${i}_${r}_input_${a}`),o.months[u-1],r),l=`${r}${a}`;const c=n.includes("top"),p=vt(t(`#${i}_${r}_input_${a}`),a,w("current"),s.limitDigitMin,s.limitDigitMax);lt(r,a,!!c&&p.showTop,!c&&p.showBottom,c?o.months[parseInt(p.valueTop)-1]:0,c?0:o.months[parseInt(p.valueBottom)-1]),l=null}(e,r,n,i):"sign"===n||"systime"===n?function(e,n,i){const o=t(e).html();if(!St(o))return;const r=t(`#${n}_${i}_input_${n}`);r.val(o),ut(r,o,i),l=`${i}${n}`,lt(i,n,!1,!1,0,0),l=null}(e,n,i):"list"===n&&function(e,n,i,r){const u=t(e).html();if(!St(u))return;const s=t(`#${i}_${r}_input_${i}`);s.val(u),ut(s,u,r),l=`${r}${i}`;const c=a(o.values,u),p=n.includes("top"),d=p?c-1:c+1,f=xt(p?d:0,p?0:d,0,o.values.length-1);lt(r,i,!!p&&f.showTop,!p&&f.showBottom,p?o.values[f.adjustedValueTop]:"...",p?"...":o.values[f.adjustedValueBottom]),l=null}(e,r,n,i)}function St(t){return null!==t&&""!==t}function $t(t,e,n=null){const i=void 0!==e.minValues[t]?Math.max(D(e),Math.min(E(t,e),S(e))):D(e),o=void 0!==e.maxValues[t]?Math.max(D(e),Math.min(Y(t,e),S(e))):S(e);let r;return r=null!=n?n:void 0!==e.values[t]?function(t,e){return I(t,e.values,e)}(t,e):e.defaultValue,r=function(t,e,n){return Math.max(e,Math.min(t,n))}(r,D(e),S(e)),{min:i,max:o,value:r}}function _t(e,n,i,o,r){return t("<div>",{class:`cla-hover-text ${o}-text-${n}-${i}`,id:`${e}_${n}_div_${o}_${i}`,text:r}).hover((function(){bt(this,e,n,!0)}),(function(){bt(this,e,n,!1)})).on("click",(function(){Dt(this,e,n)}))}function Tt(e,n,i,r,{min:u,max:c,maxLength:p,isDisabled:d}){const m=`${e}_${n}_label_${i}`,h=t("<label>",{for:`${e}_${n}_input_${i}`,id:m,text:`Entrée ${i} pour ${o.type}`,class:"sr-only"}),y=t("<div>",{id:`description_${n}_input_${i}`,class:"visually-hidden",text:"Utilisez la molette ou cliquez sur la valeur suivante ou précédente visible pour modifier la valeur."});t("body").append(y);const g=t("<div>",{"aria-live":"polite",class:"visually-hidden",id:"live-update"});t("body").append(g);const M=t("<input>",{type:!0===o.maskInput?"password":"text",class:`truncate-${e} form-control form-control-lg text-center cla-h2-like ${e}-input`,maxLength:p,id:`${e}_${n}_input_${i}`,name:`${e}${i}`,autocomplete:"off",value:"text"===o.type?r:$(r,o),"data-min":u,"data-max":c,disabled:d?"disabled":null,"aria-labelledby":`${m}`,"aria-valuemin":u,"aria-valuemax":c,"aria-valuenow":"text"===o.type?r:$(r,o),"aria-live":"polite",role:"spinbutton"});return M.attr("aria-describedby","input-description"),M.on("keyup",(r=>{if("text"!=o.type&&o.isDisabled)return;!function(t,e,n,i,o,r){const a=e.originalEvent||e,u=a.keyCode||a.which;16!==u&&gt(t,u,a,n,i,o,r)}(t(r.currentTarget),r,e,n,i,o)})).on("wheel",(i=>{if("text"!=o.type&&o.isDisabled)return;Mt(t(i.currentTarget),i,e,n)})).hover((function(){"text"!=o.type&&o.isDisabled||function(e,n,i){if(!0===o.maskInput)return;let r=f(t(e).attr("id").replace(n+"_"+i+"_input_",""));if("digits"==n||"month"==n){l=i+r;let t=vt(e,r,w("current"),s.limitDigitMin,s.limitDigitMax);lt(i,r,t.showTop,t.showBottom,"month"==n?o.months[parseInt(t.valueTop)-1]:t.valueTop,"month"==n?o.months[parseInt(t.valueBottom)-1]:t.valueBottom)}else if("systime"==n)l=i+n,lt(i,n,"PM"==t(e).val(),"AM"==t(e).val(),"AM","PM");else if("sign"==n)l=i+n,lt(i,n,"-"==t(e).val(),"+"==t(e).val(),"+","-");else if("list"==n){l=i+n;let t=a(o.values,e.value);if(-1!=t){let e=xt(f(t)-1,f(t)+1,0,o.values.length-1);lt(i,n,e.showTop,e.showBottom,o.values[e.adjustedValueTop],o.values[e.adjustedValueBottom])}}}(this,e,n)}),(function(){"text"!=o.type&&o.isDisabled||function(e,n,i){"digits"==n||"month"==n?lt(i,t(e).attr("id").replace(n+"_"+i+"_input_",""),!1,!1,0,0):"sign"!=n&&"list"!=n&&"systime"!=n||lt(i,n,!1,!1,0,0);l=null}(this,e,n)})).on("paste",(r=>{!function(t,e,n,i,o,r){const a=e.originalEvent||e;a.preventDefault();let u=a.clipboardData.getData("text");u.length>1&&(u=u.substring(0,1));let l=u.charCodeAt(0);a.ctrlKey=!1,a.key=u,gt(t,l,a,n,i,o,r)}(t(r.currentTarget),r,e,n,i,o)})).on("copy",(e=>{e.preventDefault();const n=t(e.currentTarget);navigator.clipboard.writeText(n.val())})),t("<div>",{class:"cla-input-wrapper",css:{position:"relative"}}).append(h).append(M)}let At=null,Vt=null;function It(e,n,i){let r=0,a=0;n.sizes.forEach(((u,l)=>{const s=function(t,e){return t.minlimits[e].split(",")}(n,l),c=function(t,e){return t.maxlimits[e].split(",")}(n,l);a=function(t,e,n,i,r,a,u){for(let l=0;l<n;l++){const n=a[u];t("MH"==e?"month":"digits",u+1,i[l],r[l],"MH"==e?o.months[n]:n,"MH"==e?"30":"1","MH"==e||A(o)),g(u,"MH"==e?o.months[n]:n),u++}return u}(e,n.parts[l],u,s,c,i,a),r=function(e,n){let i=e;return i<n.separators.length&&(Vt.append(t("<div>",{class:"col-auto",html:`<div><h2 class="my-5">${n.separators[i]}</h2></div>`})),i++),i}(r,n)}))}function Yt(t){if(null==t||"string"==typeof t&&(!t||0===t.length))throw new Error("Une valeur doit être renseignée.")}function Et(t,e){g("fillDigits",0),N(e(t),c);let n=ct(w("digits"),"float"===o.type,o.decimalPosition);n=O(n,c),g("current",n)}function Ct(t){g("fillDigits",0),N(t,c),g("current",t)}function jt(e){switch(o.type){case"integer":!function(t){if(!M(t))throw new Error("La valeur doit être un nombre entier.");Et(t,f)}(e);break;case"float":!function(t){if(!M(t))throw new Error("La valeur doit être un nombre flottant.");Et(t,d)}(e);break;case"binary":!function(t){if("number"==typeof t&&(t=t.toString()),!/^0b[01]+$/.test(e=t)&&!/^[01]+$/.test(e))throw new Error("La valeur doit être un nombre binaire (composé uniquement de 0 et 1).");var e;Ct(r((t=>t.replace(/^0b/,""))(t),o.numInputs))}(e);break;case"hexadecimal":!function(t){if("number"==typeof t&&(t=t.toString()),!v(t))throw new Error("La valeur doit être un nombre hexadécimal.");Ct(r((t=>t.replace(/^0x/,""))(t),o.numInputs))}(e);break;case"letter":!function(t){Ct(r(t,o.numInputs))}(e);break;case"text":!function(e){if(-1===a(o.values,e))throw new Error("Le texte n'est pas reconnu dans les valeurs disponibles.");t(`input[id^=list_${c}_input]`).val(e),g("current",e)}(e);break;case"time":case"date":!function(t,e){let n=M(e)?d(e):e;const i={time:{parse:R,format:rt,total:et,formatSetting:o.formatTime},date:{parse:Z,format:at,total:nt,formatSetting:o.formatDate}}[t];if(!i)throw new Error(`Unsupported type: ${t}`);const r=i.parse(n,i.formatSetting),a=new Date(0);a.setUTCMilliseconds(Math.round(1e3*r));const u=i.format(a,i.formatSetting);K(n,t),N(u,c),g("current",i.total?i.total(a):null)}(o.type,e);break;default:throw new Error("Le type spécifié dans settings n'est pas compatible avec setCompleteValue.")}}return this.each((function(){function e(e,n,i,o,r,a,u){const l=t("<div>",{class:"text-center cla-input-wrapper",css:{position:"relative"}});l.append(_t(e,c,n,"top","&nbsp;")),l.append(Tt(e,c,n,r,{min:i,max:o,maxLength:a,isDisabled:u})),l.append(_t(e,c,n,"bottom","&nbsp;")),Vt.append(l)}if(At=t(this),Vt=t("<div>",{class:"cla-input-container",css:{display:"flex",justifyContent:"center",alignItems:"center",gap:o.gap}}),["integer","float","binary","hexadecimal","letter"].includes(o.type)){_(o)&&e("sign","sign",null,null,w("sign"),"1",A(o)),function(e){const n={binary:"0b",hexadecimal:"0x"};n[e]&&Vt.append(t("<div>",{class:"col-1",html:`<div><h2 class="my-5">${n[e]}</h2></div>`}))}(o.type);const n="digits";for(let i=1;i<=o.numInputs;i++){"float"===o.type&&i-1===o.decimalPosition&&Vt.append(t("<div>",{class:"col-1",html:`<div><h2 class="my-5">${o.separator}</h2></div>`}));const{min:r,max:a,value:u}=$t(i-1,o);e(n,i,r,a,u,"1",A(o)),g(i-1,u)}At.append(Vt);const{value:i}=$t(o.numInputs-1,o);ut(t(`#${n}_${c}_input_${o.numInputs}`),i,c,!1)}else if("text"===o.type)e("list","list",0,o.values.length-1,o.values[o.defaultValue],"30",A(o)),At.append(Vt),g("current",o.values[o.defaultValue]);else if("time"===o.type){e("systime","systime",null,null,w("systime"),"2",!0),t("#btAddMosquitoRelease").css("display","none");const n="digits";!function(){const t=G(o.formatTime);o.numInputs=t.numinputs;const n=R(o.defaultValue,o.formatTime),i=new Date(0);i.setUTCMilliseconds(Math.round(1e3*n)),It(e,t,rt(i,o.formatTime))}(),At.append(Vt);const{value:i}=$t(o.numInputs-1,o);K(o.defaultValue,o.type),ut(t(`#${n}_${c}_input_${o.numInputs}`),i,c,!1),"24h"==o.hourCycle&&t("input[id^=systime_"+c+"_input]").parent().parent().css("display","none")}else if("date"===o.type){const n="digits";!function(){const t=z(o.formatDate);o.numInputs=t.numinputs;const n=Z(o.defaultValue,o.formatDate),i=new Date(0);i.setUTCMilliseconds(Math.round(1e3*n)),It(e,t,at(i,o.formatDate))}(),At.append(Vt);const{value:i}=$t(o.numInputs-1,o);ut(t(`#${n}_${c}_input_${o.numInputs}`),i,c,!1)}})),this.getDigitAt=function(t){if(void 0===t||null==t)throw new Error("Un index doit être renseignée.");if(function(t){return x[t.type]?.isGetDigit??!1}(o)){if(t>=0&&t<s.digits.length)return w(t);throw new Error("L'index est en dehors de la plage.")}throw new Error("settings.type non disponible avec la fonction getDigitAt.")},this.setDigitAt=function(e,n){if(Yt(n),void 0===e||null==e)throw new Error("Un index doit être renseignée.");if(!function(t){return x[t.type]?.isSetDigit??!1}(o))throw new Error("settings.type non disponible avec la fonction setDigitAt.");if(!(e>=0&&e<s.digits.length))throw new Error("L'index est en dehors de la plage.");{let i=n;const r=t(`#digits_${c}_input_${e+1}`);"hexadecimal"==o.type&&(i=y(n)),"letter"==o.type&&(i=m(n)),dt(r,i,"digits",c)}},this.changeMaskInputs=function(e){if("boolean"!=typeof e)throw new Error("Parameter 'isPassword' doit être un booléen.");o.maskInput=e,this.find("input").each((function(){t(this).attr("type",e?"password":"text")}))},this.toggleInputs=function(t){if("boolean"!=typeof t)throw new Error("Parameter 'disabled' doit être un booléen.");o.isDisabled=t,this.find("input").prop("disabled",A(o))},this.changeLanguage=function(t){if("string"!=typeof t)throw new Error("Parameter 'locale' doit être une chaîne de caractères.");Intl.DateTimeFormat.supportedLocalesOf([t]),o.defaultLanguage=t;const n=e(t);o.months=Array.from(n.keys()),o.monthMap=n,jt(w("current"))},this.changeHourCycle=function(e){const n=["24h","12h"];if(!e)throw new Error("Parameter 'hourCycle' n'est pas définie. Valeur par défaut utilisée : '24h'.");if("string"!=typeof e)throw new Error("Parameter 'hourCycle' doit être une chaîne de caractères ('24h' ou '12h').");if(!n.includes(e))throw new Error(`Parameter 'hourCycle' doit être une des valeurs suivantes : ${n.join(", ")}.`);o.hourCycle=e,"24h"==o.hourCycle?t("input[id^=systime_"+c+"_input]").parent().parent().css("display","none"):t("input[id^=systime_"+c+"_input]").parent().parent().css("display","block"),jt(w("current"))},this.changeTextValues=function(t,e=0,n=!1){if("text"===o.type){if(!Array.isArray(t))throw new Error("Parameter 'values' doit être liste.");if(e<0||e>=t.length)throw new Error("Parameter 'index_0' doit être une valeur comprise entre 0 et values.length.");o.values=t,this.setCompleteValue(t[e],n)}},this.getCompleteValue=function(){return w("current")},this.setCompleteValue=function(t,e=!1){Yt(t),jt(t),h(null,o,e)},this.destroy=function(){return this.each((function(){const e=t(this);e.off();const n=e.find(".cla-input-container");n.length>0&&(n.find("*").off(),n.empty(),n.remove()),e.find('.cla-hover-text, .cla-input-wrapper, [class*="top-text"], [class*="bottom-text"], .cla-input-container, .visually-hidden').remove(),e.removeData(),e.removeClass("cla-input-wrapper cla-input-container cla-hover-text visually-hidden"),e.empty()}))},"undefined"!=typeof window&&window.TEST_MODE&&(this.setHoverId=function(t){l=t},this.getHoverId=function(){return l},this.calculatePeripheralDisplay=function(t,e,n,i,o){return pt(t,e,n,i,o)}),this},t.fn.codeInputBuilder.version="0.0.23",t.fn.codeInputBuilder.title="CodeInputBuilder",t.fn.codeInputBuilder.description="Plugin jQuery permettant de générer des champs d'input configurables pour la saisie de valeurs numériques (entiers, flottants), de textes, ou de valeurs dans des systèmes spécifiques (binaire, hexadécimal). Il offre des options avancées de personnalisation incluant la gestion des signes, des positions décimales, des limites de valeurs, et des callbacks pour la gestion des changements de valeur."}(jQuery);